(function(){var e;CodeSync.Modes=Backbone.Collection.extend({initialize:function(t,n){var r,i,s;return t==null&&(t=[]),n==null&&(n={}),t=function(){var t;t=[];for(i in e)s=e[i],t.push(r={id:i,name:s.name||i,codeMirrorMode:s.codeMirrorMode||i,extension:s.extension,extensionRegex:new RegExp(""+s.extension),defaultContent:s.defaultContent});return t}(),Backbone.Collection.prototype.initialize.apply(this,arguments),this.reset(t,{silent:!0})},findModeFor:function(e){var t,n=this;return e==null&&(e=""),e.match(/\./)||(e="."+e),t=this.detect(function(t){var n;return n=t.get("extensionRegex"),n.exec(e)}),t!=null?t.get("codeMirrorMode"):void 0},findExtensionFor:function(e){return e=this.detect(function(t){return t.get("codeMirrorMode")===e||t.get("id")===e}),e!=null?e.get("extension"):void 0},defaultMode:function(){return this.get(CodeSync.get("defaultFileType"))||this.first()}}),CodeSync.Modes.getMode=function(e){return CodeSync.Modes.get().get(e)},CodeSync.Modes.guessModeFor=function(e){return CodeSync.Modes.get().findModeFor(e)},CodeSync.Modes.guessExtensionFor=function(e){return CodeSync.Modes.get().findExtensionFor(e)},CodeSync.Modes.get=function(){var e;return(e=CodeSync.Modes).singleton||(e.singleton=new CodeSync.Modes)},CodeSync.Modes.defaultMode=function(){return CodeSync.Modes.get().defaultMode()},e={coffeescript:{extension:".coffee",codeMirrorOptions:{indentUnit:2,smartIndent:!0,tabSize:2,indentWithTabs:!1},defaultContent:'# You are currently in Coffeescript Mode\n#\n# Any coffeescript you type in here will be evaluated.\n#\n# defining this function will allow you to respond\n# to code and template changes that happen in this editor.\n#\n#\n# CodeSync.onScriptChange = (changeObject)->\n#   console.log "Detected new code from CodeSync", changeObject\n#\n#'},sass:{name:"Sass",extension:".css.sass",defaultContent:"// You are currently in Sass mode.",codeMirrorOptions:{indentUnit:2,smartIndent:!0,tabSize:2,indentWithTabs:!1}},scss:{codeMirrorMode:"css",extension:".css.scss",name:"SCSS",defaultContent:"/* You are currently in SCSS mode. */"},skim:{extension:".jst.skim",defaultContent:"// You are currently in Skim mode.\n// The contents of this template will be available on the JST object.",template:!0,codeMirrorOptions:{indentUnit:2,smartIndent:!0,tabSize:2,indentWithTabs:!1}},css:{name:"CSS",extension:".css",defaultContent:"/* You are currently in raw CSS mode. */"},javascript:{name:"Javascript",extension:".js",defaultContent:"/* You are currently in raw JS mode. */"}}}).call(this);