(function(){CodeSync.plugins.ModeSelector=Backbone.View.extend({className:"mode-selector",events:{"change select":"onSelect"},initialize:function(e){var t=this;return e==null&&(e={}),this.editor=e.editor,this.modes=this.editor.modes,this.modes.on("reset",this.render,this),this.editor.on("change:mode",function(e,n){return t.setValue(n)}),Backbone.View.prototype.initialize.apply(this,arguments)},onSelect:function(){var e,t;return t=this.$("select").val(),e=this.modes.get(t),this.editor.setMode(e)},setValue:function(e){return this.$("select").val(e)},render:function(){var e,t,n,r,i;t="",i=this.modes.models;for(n=0,r=i.length;n<r;n++)e=i[n],t+="<option value='"+e.id+"'>"+e.get("name")+"</option>";return this.$el.html("<select>"+t+"</select>"),this}}),CodeSync.plugins.ModeSelector.setup=function(e){var t;return t=this.views.modeSelector=new CodeSync.plugins.ModeSelector({editor:e}),e.$(".codesync-asset-editor").append(t.render().el),e.on("document:loaded",function(e){return t.setValue(e.get("mode"))})}}).call(this);